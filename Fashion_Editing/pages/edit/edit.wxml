<!--pages/edit/edit.wxml-->
<view class="upper-toolsbar">
      <image mode="aspectFit" class="button right-s" src="/icon/seleted.png" bindtap="onGenerate"></image>
      <image mode="aspectFit" class="button right-l" src="/icon/return.png" bindtap="onUndo"></image>
      <image mode="aspectFit" class="button left-s" src="/icon/close.png" bindtap="onClose"></image>
</view>
<!-- 画布 -->
<view>
      <canvas canvas-id="myCanvas" class="myCanvas"
            style="width:{{imgWidth}}px;height:{{imgHeight}}px;marign-top:100rpx" bindtouchstart="touchStart"
            bindtouchmove="touchMove"></canvas>
</view>
<!-- <view class="toolsbar">
    <view class="canvas_tools">
      <view class="{{ curColor == '#d71345' ? 't-item-cur' : 't-item'}}"    
            style="background-color:#d71345"
            bindtap="colorSelect" data-p="#d71345"></view> 
      <view class="{{ curColor == '#f58220' ? 't-item-cur' : 't-item'}}" 
            style="background-color:#f58220"
            bindtap="colorSelect" data-p="#f58220"></view>
      <view class="{{ curColor == '#ffd400' ? 't-item-cur' : 't-item'}}" 
            style="background-color:#ffd400"
            bindtap="colorSelect" data-p="#ffd400"></view>
      <view class="{{ curColor == '#7fb80e' ? 't-item-cur' : 't-item'}}" 
            style="background-color:#7fb80e"
            bindtap="colorSelect" data-p="#7fb80e"></view>
      <view class="{{ curColor == '#00a6ac' ? 't-item-cur' : 't-item'}}" 
            style="background-color:#00a6ac"
            bindtap="colorSelect" data-p="#00a6ac"></view>
      <view class="{{ curColor == '#009ad6' ? 't-item-cur' : 't-item'}}" 
            style="background-color:#009ad6"
            bindtap="colorSelect" data-p="#009ad6"></view>
      <view class="{{ curColor == '#444693' ? 't-item-cur' : 't-item'}}" 
            style="background-color:#444693"
            bindtap="colorSelect" data-p="#444693"></view>
      <view class="{{ curColor == '#000000' ? 't-item-cur' : 't-item'}}" 
            style="background-color:#000000"
            bindtap="colorSelect" data-p="#000000"></view>
    </view>

    <view class="canvas_tools">
      <view class="{{curSize == '4' ? 't-item-cur' : 't-item'}}"    
            bindtap="penSizeSelect" data-p="4">细</view> 
      <view class="{{curSize == '10' ? 't-item-cur' : 't-item'}}" 
            bindtap="penSizeSelect" data-p="10">中</view>
      <view class="{{curSize == '20' ? 't-item-cur' : 't-item'}}" 
            bindtap="penSizeSelect" data-p="20">粗</view>
      
      <view class="t-clear" bindtap="clearCanvas">清空</view>

      <view class="t-insert" bindtap="insertImage">
            <image src="/images/加号.png" 
                   style="width:78rpx;height:78rpx"></image>
      </view>
      </view>
  </view>  -->
<!-- <view class='container'>

  <view id='button' bindtap='onTap'>Click Me</view>

  <popover id='popover'>
    <popover-item bindtap='onClickA' hasline>内容超出会自动隐藏用...表示</popover-item>
    <popover-item hasline>子菜单B</popover-item>
    <popover-item>子菜单C</popover-item>
  </popover>
</view> -->
<mp-tabbar class="lower-toolsbar" list="{{toolsList}}" bindchange="tabChange">
</mp-tabbar>
<popover id="size" pw="{{40}}" ph="{{300}}" px="{{170}}" py="{{420}}" vertical="top" align="center">
      <popover-item>
            <view class="{{curSize == '4' ? 't-item-cur' : 't-item'}}" bindtap="penSizeSelect" data-p="4">细</view>
      </popover-item>
      <popover-item>
            <view class="{{curSize == '10' ? 't-item-cur' : 't-item'}}" bindtap="penSizeSelect" data-p="10">中</view>
      </popover-item>
      <popover-item>
            <view class="{{curSize == '20' ? 't-item-cur' : 't-item'}}" bindtap="penSizeSelect" data-p="20">粗</view>
      </popover-item>


</popover>
<popover id="color" pw="{{40}}" ph="{{300}}" px="{{290}}" py="{{220}}" vertical="top" align="center">
      <popover-item>
            <view class="{{ curColor == '#d71345' ? 't-item-cur' : 't-item'}}" style="background-color:#d71345"
                  bindtap="colorSelect" data-p="#d71345"></view>
      </popover-item>
      <popover-item>
            <view class="{{ curColor == '#f58220' ? 't-item-cur' : 't-item'}}" style="background-color:#f58220"
                  bindtap="colorSelect" data-p="#f58220"></view>
      </popover-item>
      <popover-item>
            <view class="{{ curColor == '#ffd400' ? 't-item-cur' : 't-item'}}" style="background-color:#ffd400"
                  bindtap="colorSelect" data-p="#ffd400"></view>
      </popover-item>
      <popover-item>

            <view class="{{ curColor == '#7fb80e' ? 't-item-cur' : 't-item'}}" style="background-color:#7fb80e"
                  bindtap="colorSelect" data-p="#7fb80e"></view>
      </popover-item>
      <popover-item>

            <view class="{{ curColor == '#00a6ac' ? 't-item-cur' : 't-item'}}" style="background-color:#00a6ac"
                  bindtap="colorSelect" data-p="#00a6ac"></view>
      </popover-item>
      <popover-item>
            <view class="{{ curColor == '#009ad6' ? 't-item-cur' : 't-item'}}" style="background-color:#009ad6"
                  bindtap="colorSelect" data-p="#009ad6"></view>
      </popover-item>
      <popover-item>
            <view class="{{ curColor == '#444693' ? 't-item-cur' : 't-item'}}" style="background-color:#444693"
                  bindtap="colorSelect" data-p="#444693"></view>
      </popover-item>

      <popover-item>
            <view class="{{ curColor == '#000000' ? 't-item-cur' : 't-item'}}" style="background-color:#000000"
                  bindtap="colorSelect" data-p="#000000"></view>
      </popover-item>




</popover>